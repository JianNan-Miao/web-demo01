<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>购物单</title>
    <style>

    </style>
</head>
<body>
<h1>My shopping list</h1>
<div class="div1">
    <label for="project1">Enter a new item:</label>
    <input type="text" name="project1" id="project1"><!--//输入框-->
    <button>Add item</button>
    <button class="button2">clearAll</button>
</div>
<ul>


</ul>
<script>
    let list = document.querySelector("ul");
    let input = document.querySelector("input");//输入框变量
    let button = document.querySelector("button");
     let clearAll = document.querySelector('.button2');


    let inputValue=null;


    //创建一个函数响应点击按钮。
    //在函数体内，开始要在一个变量中存储输入框的当前值。
    button.addEventListener("click", addfood);

    clearAll.addEventListener("click", clear);

    //添加购物车按钮方法
    function addfood() {


            inputValue = input.value;
        if (inputValue == '') {
            alert("不能为空")
        }

            //创建三个新元素
            let li = document.createElement("li");
            let liText = document.createElement("span");
            let deleteButton = document.createElement("button");


            li.appendChild(liText);
            liText.textContent = inputValue;
            li.appendChild(deleteButton);
            deleteButton.textContent = "delete";
            list.appendChild(li);
            // 把之前保存的输入框元素的值设置为span的文本内容，按钮的文本内容设置为'Delete'

            deleteButton.addEventListener("click", delete1);

            function delete1() {
                list.removeChild(li);
            }

            input.focus();

    }

        function clear() {
            let allList = document.querySelectorAll('li');//li标签数组
            //遍历所有元素
            for (let i = 0; i < allList.length; i++) {
                list.removeChild(allList[i]);
            }
        }
</script>
</body>
</html>